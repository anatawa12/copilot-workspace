# Rebase Todo File Format

The `.github/rebase-todo` file is used by the automated rebase GitHub Actions workflow to perform git rebase operations. This file should be created when you want to squash, reorder, or modify commits in your repository.

## File Format

The rebase-todo file follows this structure:

```
<base-commit-hash>
<operation> <commit-hash> [new-commit-message]
<operation> <commit-hash> [new-commit-message]
...
```

### Base Commit

The first line of the file must contain the SHA hash of the commit that will serve as the base for the rebase operation. This is typically the commit before the first commit you want to modify.

### Operations

Each subsequent line defines an operation to perform on a specific commit. The supported operations are:

#### `pick` or `p`
Use the commit as-is without any modifications.

```
pick abc1234 
p def5678
```

#### `squash` or `s`
Squash the commit into the previous commit and optionally provide a new commit message.

```
squash abc1234 New combined commit message
s def5678 Another squashed commit with new message
```

## Example

Here's a complete example of a rebase-todo file:

```
# Base commit (the commit before the ones we want to modify)
a1b2c3d4e5f6789012345678901234567890abcd

# Pick the first commit as-is
pick b2c3d4e5f6789012345678901234567890abcde

# Squash the second commit with a new message
squash c3d4e5f6789012345678901234567890abcdef Fix authentication and add tests

# Squash the third commit with another new message  
s d4e5f6789012345678901234567890abcdef01 Refactor user service and update documentation
```

## Usage with GitHub Copilot

This format is designed to be easily generated by GitHub Copilot. When you want to squash commits:

1. Create a `.github/rebase-todo` file with the appropriate format
2. Commit and push the file to your repository
3. The automated rebase workflow will trigger and perform the operations
4. The rebase-todo file will be automatically removed after successful completion

## Important Notes

- **Commit Hashes**: Use full SHA hashes (40 characters) for reliability
- **Order**: Operations are processed in the order they appear in the file
- **Committer**: The committer of the rebased commits will be set to the author of the commit that added the rebase-todo file
- **Force Push**: The workflow will force push the rebased branch, so ensure you're working on the correct branch
- **Cleanup**: The rebase-todo file is automatically removed after successful rebase

## Comments

Lines starting with `#` are treated as comments and ignored during parsing.

```
# This is a comment explaining the rebase operation
a1b2c3d4e5f6789012345678901234567890abcd

# Pick this commit without changes
pick b2c3d4e5f6789012345678901234567890abcde

# Squash these commits together
squash c3d4e5f6789012345678901234567890abcdef Combined feature implementation
```